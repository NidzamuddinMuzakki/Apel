(this.webpackJsonpadapro=this.webpackJsonpadapro||[]).push([[11],{117:function(e,t,n){"use strict";function a(e){return{type:"RoleSelected",payload:{data:e}}}function r(e){return{type:"LoveMenu",payload:{data:e}}}function o(e){return{type:"BranchSelected",payload:{data:e}}}function c(e){return{type:"PeriodSelected",payload:{data:e}}}function i(e){return{type:"DateSelected",payload:{data:e}}}function l(e){return{type:"ModuleSelected",payload:{data:e}}}function d(e){return{type:"RoleData",payload:{data:e}}}function s(e){return{type:"BranchData",payload:{data:e}}}function u(e){return{type:"DateData",payload:{data:e}}}function p(e){return{type:"MenuData",payload:{data:e}}}function f(e){return{type:"UserData",payload:{data:e}}}function b(e){return{type:"UserSetting",payload:{data:e}}}function m(e){return{type:"PeriodData",payload:{data:e}}}function j(e){return{type:"Param",payload:{data:e}}}function h(e){return{type:"ColorTheme",payload:{data:e}}}n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return h})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return b})),n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return o}))},161:function(e,t,n){},259:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(84),r=n(866),o=n(0),c=n(4);function i(e){var t=Object(o.useState)(60),n=Object(a.a)(t,2),i=n[0],l=n[1];Object(o.useEffect)((function(){if(1==e.open){var t=setInterval((function(){l((function(e){return e-1}))}),1e3);return function(){clearInterval(t)}}}),[e.open]),Object(o.useEffect)((function(){i<1&&(l(60),d("yes"))}),[i]);var d=function(t){l(60),e.onClick(t)};return Object(c.jsx)(r.a,{style:{},onClose:function(e){return d("no")},"aria-labelledby":"asasasas",open:e.open,children:Object(c.jsxs)("div",{style:{width:"600px",height:"450px"},children:[Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"70px"},children:Object(c.jsx)("img",{src:"/clock.png",width:"150"})}),Object(c.jsx)("div",{style:{textAlign:"center",color:"red",fontWeight:600,fontFamily:"Poppinsbold",fontSize:"25px",marginTop:"20px"},children:"Login time is running up!"}),Object(c.jsx)("div",{style:{textAlign:"center",color:"#C4C4C4",fontWeight:600,fontFamily:"Poppinsbold",fontSize:"15px",marginTop:"5px"},children:"Do you want to Logout?"}),Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"50px"},children:[Object(c.jsxs)("button",{style:{fontFamily:"Poppins-bold",color:"white",fontWeight:600,background:"red",border:"1px solid red",boxSizing:"border-box",borderRadius:"40px 0px 0px 40px",width:"150px",height:"42px"},onClick:function(e){i>1&&d("no")},children:["Batal ",i]}),Object(c.jsx)("button",{style:{fontFamily:"Poppins-bold",color:"red",fontWeight:600,border:"1px solid red",boxSizing:"border-box",borderRadius:"0px 40px 40px 0px",width:"150px",height:"42px","--color":e.themeColor,"--colorBgHover":e.themeColorBgHover},className:"editButtonSave",onClick:function(e){return d("yes")},children:"Logout"})]})]})})}},86:function(e,t,n){"use strict";function a(){return"https://api.adapro.tech"}n.d(t,"a",(function(){return a}))},867:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n(115),r=n(84),o=n(0),c=n(2),i=n(33),l=n(87),d=n.n(l),s=n(131),u=n(86);function p(e){this.message=e}p.prototype=new Error,p.prototype.name="InvalidCharacterError";var f="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new p("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,a,r=0,o=0,c="";a=t.charAt(o++);~a&&(n=r%4?64*n+a:a,r++%4)?c+=String.fromCharCode(255&n>>(-2*r&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return c};function b(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(f(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return f(t)}}function m(e){this.message=e}m.prototype=new Error,m.prototype.name="InvalidTokenError";var j=function(e,t){if("string"!=typeof e)throw new m("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(b(e.split(".")[n]))}catch(e){throw new m("Invalid token specified: "+e.message)}},h=n(117),g=n(99),O=n(259),v=n(4);function y(e){var t=Object(o.useState)(!1),n=Object(r.a)(t,2),l=n[0],p=n[1],f=Object(o.useState)(localStorage.getItem("token")),b=Object(r.a)(f,1)[0],m=Object(o.useState)(""),y=Object(r.a)(m,2),x=y[0],S=y[1],I=Object(o.useState)(localStorage.getItem("refresh_token")),w=Object(r.a)(I,1)[0],k=Object(o.useState)(localStorage.getItem("moduleSelected")),N=Object(r.a)(k,1)[0],D=Object(i.useSelector)((function(e){return e.ModuleSelected})),C=Object(o.useState)(!1),M=Object(r.a)(C,2),T=(M[0],M[1],Object(o.useState)(!1)),P=Object(r.a)(T,2),_=P[0],E=P[1],z=Object(i.useSelector)((function(e){return e.Param})),B=Object(i.useDispatch)(),A=(Object(s.a)(Object(u.a)()+"/general/system/param",(function(e){d.a.get(e).then((function(e){B(Object(h.k)(e.data.data[0]))}))}),{revalidateOnFocus:!1}).data,Object(s.a)(Object(u.a)()+"/general/user/module/",(function(e){return d.a.get(e,{headers:{Authorization:"Bearer "+b}})}),{revalidateOnFocus:!1})),F=A.data;A.error;Object(o.useEffect)((function(){""==D&&(localStorage.setItem("Route","/module"),B(Object(h.f)(JSON.parse(N))))}),[N]),Object(o.useEffect)((function(){var e,t=z.sessionTimeout-60;document.onmousemove=function(){clearTimeout(e),e=setTimeout((function(){E(!0)}),t?1e3*t:354e4)}}),[]),Object(o.useEffect)((function(){if(console.log(z),""!=z&&z.systemdatetime){var e=z.systemdatetime,t=null===e||void 0===e?void 0:e.split(" "),n=t[0],a=t[1],r=n.split("-")[0],o=n.split("-")[1],c=n.split("-")[2],i=new Date(parseInt(r),parseInt(o)-1,parseInt(c),parseInt(a.split(":")[0]),parseInt(a.split(":")[1]),parseInt(a.split(":")[2]));setInterval((function(){i=new Date(i.getTime()+1e3),S(i)}),1e3*Math.abs(1))}}),[z]);F&&localStorage.setItem("itemsModule",JSON.stringify(F.data.data));var J=Object(c.f)(),R=function(e,t,n){d.a.get(Object(u.a)()+"/general/user/profile",{params:{moduleId:t},headers:{Authorization:"Bearer "+n}}).then((function(n){p(!1);var r,o=n.data.data,c=Object(a.a)(o.roleData);try{for(c.s();!(r=c.n()).done;){var i,l=r.value,d=Object(a.a)(o.menuData);try{for(d.s();!(i=d.n()).done;){var s=i.value;l.roleId==s.roleId&&"yes"==l.selected&&B(Object(h.h)({roleId:l.roleId,roleName:l.roleName}))}}catch(x){d.e(x)}finally{d.f()}}}catch(x){c.e(x)}finally{c.f()}if("no"==o.branchData.bankwide){var u,f=Object(a.a)(o.branchData.branch);try{for(f.s();!(u=f.n()).done;){var b=u.value;if("yes"==b.selected){B(Object(h.b)({branchId:b.branchId,branchName:b.branchName}));break}}}catch(x){f.e(x)}finally{f.f()}}else B(Object(h.b)({branchId:o.branchData.bankwide,branchName:o.branchData.bankwide}));var m,j=Object(a.a)(o.periodData);try{for(j.s();!(m=j.n()).done;){var g=m.value;if("yes"==g.selected){B(Object(h.g)({periodId:g.periodId,periodName:g.periodName}));var O,v=Object(a.a)(o.dateData);try{for(v.s();!(O=v.n()).done;){var y=O.value;g.periodId==y.dateType&&B(Object(h.d)({dateType:y.dateType,dateValue:y.dateValue}))}}catch(x){v.e(x)}finally{v.f()}break}}}catch(x){j.e(x)}finally{j.f()}B(Object(h.a)(o.branchData)),B(Object(h.i)(o.dateData)),B(Object(h.j)(o.menuData)),B(Object(h.l)(o.periodData)),B(Object(h.m)(o.roleData)),B(Object(h.n)(o.userData)),B(Object(h.o)(o.userSetting)),B(Object(h.f)({moduleName:e,moduleId:t})),localStorage.setItem("moduleSelected",JSON.stringify({moduleName:e,moduleId:t})),J.replace("/")})).catch((function(e){p(!1),alert(e.response.data.data),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),J.replace("/login")}))};return Object(o.useEffect)((function(){b||J.replace("/login")}),[b]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(O.a,{open:_,onClick:function(e){"yes"==e?(localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),J.replace("/login")):E(!1)}}),l?Object(v.jsx)(g.a,{}):null,Object(v.jsx)("div",{className:"divParentModule",children:Object(v.jsxs)("div",{className:"divModule",children:[Object(v.jsx)("div",{className:"bigmendung",children:Object(v.jsx)("img",{width:"190",src:"/bigmendung_putih.png"})}),Object(v.jsx)("div",{className:"littlemendung",children:Object(v.jsx)("img",{width:"190",src:"/littlemendung_putih.png"})}),Object(v.jsx)("div",{className:"bigmendung1",children:Object(v.jsx)("img",{width:"190",src:"/bigmendung_putih.png"})}),Object(v.jsx)("div",{className:"littlemendung1",children:Object(v.jsx)("img",{width:"190",src:"/littlemendung_putih.png"})}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"chooseModule",children:[Object(v.jsx)("p",{className:"judulModule",children:"Choose The  Module"}),Object(v.jsx)("p",{className:"tanggalModule",children:(new Date).toJSON().slice(0,10).split("-").reverse().join("/")})]}),Object(v.jsx)("div",{className:"module ",children:Object(v.jsx)("div",{className:"row m-2",children:F?F.data.data.map((function(e,t){return Object(v.jsx)("div",{onClick:function(t){return function(e,t,n){p(!0);var a=j(b);(null===x||void 0===x?void 0:x.getTime())>1e3*a.exp-3e4?d.a.post(Object(u.a)()+"/master/auth/refresh_token",{refresh_token:w},{headers:{Authorization:"Baerer "+b}}).then((function(e){R(t,n,e.data.token)})).catch((function(e){p(!1),alert(e.response.data.data),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),J.replace("/login")})):R(t,n,b)}(0,e.moduleName,e.moduleId)},id:"module"|+e.moduleName,className:"col-md-6 col-sm-12 mb-2",children:Object(v.jsxs)("div",{className:(null===D||void 0===D?void 0:D.moduleName)==e.moduleName?"pilihanModuleSelected":"pilihanModule",children:[Object(v.jsx)("div",{className:"iconPilihanModule",children:Object(v.jsx)("img",{src:"/antasena.png",width:"50"})}),Object(v.jsxs)("div",{className:"keteranganPilihanModule",children:[Object(v.jsx)("p",{className:"judulpilihanmodule",children:e.moduleName}),Object(v.jsx)("p",{className:"deskpilihanmodule",children:e.moduleDesc})]})]})},t)})):Object(v.jsx)(g.a,{})})}),Object(v.jsx)("div",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),J.replace("/login")},className:"logoutModule",children:Object(v.jsx)("span",{children:"Logout"})})]})]})})]})}},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(860),r=(n(161),n(4));function o(e){return Object(r.jsx)("div",{style:{position:"fixed",background:"rgba(0,0,0,0.2)",zIndex:1e5,top:0,left:0,bottom:0,right:0,width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(r.jsx)(a.a,{icon:"spinner",style:{color:e.color,fontSize:"100px"},pulse:!0})})}}}]);
//# sourceMappingURL=11.475294ce.chunk.js.map